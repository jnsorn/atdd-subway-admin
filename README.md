# 지하철 정보 관리 - 인수 테스트

## 1단계 - 지하철 노선 / 인수 테스트

### 요구 사항
- 테스트의 중복을 제거하자.
- 지하철 노선 이름은 중복될 수 없다.

### 기능 목록
- [x] 지하철 노선 추가 API
    - [x] 중복된 이름인지 체크 해야한다.
    
- [x] 지하철 노선 목록 조회 API

- [x] 지하철 노선 수정 API
    - [x] 중복된 이름인지 체크 해야한다.
    
- [x] 지하철 노선 단건 조회 API

- [x] 지하철 노선 제거 API

## 2단계 - 지하철 노선 / 페이지

### 요구 사항
- 인수 테스트를 통해 구현한 기능을 페이지에 연동하기

### 기능 목록

#### 지하철 노선 관리 페이지
- [x] 페이지 호출 시 미리 저장한 지하철 노선 조회
    - [x] 목록에서 노선을 선택할 경우 상세 정보를 표시한다.
- [x] 지하철 노선 목록 조회 API 사용
    - [x] 단건 혹은 목록 조회 API를 활용한다.

#### 노선 추가
- [x] 노선 추가 버튼을 누르면 아래와 같은 팝업화면이 뜬다.
    - [x] 노선 이름과 정보를 입력한다.
        - [x] 지하철 노선 추가 API 사용하여 추가한다.
        
#### 노선 수정
- [x] 목록에서 우측 수정 버튼을 통해 수정 팝업화면 노출
- [x] 수정 팝업 노출 시 기존 정보는 입력되어 있어야 함
- [x] 정보 수정 후 지하철 노선 수정 API 사용

#### 노선 삭제
- [x] 목록에서 우측 버튼을 누르면 삭제된다.
    - [x] 삭제 API를 사용한다.

## 3단계 - 노선별 지하철역 / 인수 테스트

### 요구 사항  
- [x] 인수 테스트(LineStationAcceptanceTest)를 완성 시키기
- [x] Mock 서버와 DTO 만 정의하여 테스트를 성공 시키기

## 4단계 - 노선별 지하철역 / 로직

### 요구사항
- LineServiceTest 테스트 성공 시키기
- LineTest 테스트 성공 시키기

### 기능 제약조건
- 한 노선의 출발역은 하나만 존재하고 단방향으로 관리함
    - 실제 운행 시 양쪽 두 종점이 출발역이 되겠지만 관리의 편의를 위해 단방향으로 관리
    - 추후 경로 검색이나 시간 측정 시 양방향을 고려 할 예정
- 한 노선에서 두 갈래로 갈라지는 경우는 없음
- 이전역이 없는 경우 출발역으로 간주

### 기능 목록
- [x] 지하철 노선에 역 추가
    - [x] 마지막 역이 아닌 뒷 따르는 역이 있는경우 재배치를 함
        - [x] 노선에 A - B - C 역이 연결되어 있을 때 B 다음으로 D라는 역을 추가할 경우 A - B - D - C로 재배치 됨

- [x] 지하철 노선에 역 제거
    - [x] 출발역이 제거될 경우 출발역 다음으로 오던 역이 출발역으로 됨
    - [x] 중간역이 제거될 경우 재배치를 함
        - [x] 노선에 A - B - D - C 역이 연결되어 있을 때 B역을 제거할 경우 A - B - C로 재배치 됨